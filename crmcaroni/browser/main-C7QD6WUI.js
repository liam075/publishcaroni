import{b as oe,c as ie,e as N,f as re,g as ne,h as ae,i as se,j as le,l as de,m as ce,n as pe,o as me,q as ue,r as c,t as u,x as p}from"./chunk-HSXEZTYZ.js";import{$ as x,Ea as $,H as P,Hb as b,Ib as C,Jb as S,Kb as Z,L as j,Lb as X,Ma as z,Oc as Q,P as h,Xc as ee,aa as k,ad as te,cb as W,da as s,db as O,ea as f,eb as U,g as T,ga as B,gb as V,ia as g,ib as q,ja as a,lb as Y,lc as J,m as H,mc as K,na as v,oa as y,qa as G,s as D,ub as E,yb as F}from"./chunk-ZAYNBMRB.js";var he=(o,e)=>{var t=a(p);let i=a(c);return t.isLoggedIn()?(i.navigate(["/campaings"]),!1):!0};var fe=(o,e)=>{let t=a(p),i=a(c);return t.validateConnection().subscribe(r=>{console.log("Validate Connection:",r),r==!1&&(console.log("Validate Connection:",r),t.logout())}),t.isLoggedIn()?!0:(i.navigate(["/auth/login"]),!1)};var be=[{path:"auth",loadChildren:()=>import("./chunk-UUETA3PV.js").then(o=>o.AuthModule),canActivate:[he]},{path:"campaings",loadChildren:()=>import("./chunk-C7GGY7F2.js").then(o=>o.CampaingsModule),canActivate:[fe]},{path:"**",pathMatch:"full",redirectTo:"auth/login"}],w=class o{static \u0275fac=function(t){return new(t||o)};static \u0275mod=y({type:o});static \u0275inj=f({imports:[u.forRoot(be),u]})};var m=class o{constructor(){}waitCount=0;$_shouldShowOverlay=new H(!1);$shouldShowOverlay=this.$_shouldShowOverlay.asObservable();get shouldShowOverlay(){return this.waitCount>0}showLoader(e=3e4){this.waitCount++,this.updateLoaderStatus(e)}resetWaitCount(){this.waitCount=0}hideLoader(){this.waitCount>0&&this.waitCount--,this.updateLoaderStatus(3e4)}getWaitCount(){return this.waitCount}interceptObservableAndShowLoading(e){let t=!1;return this.showLoader(),e.pipe(j(1),P(i=>(t||(t=!0,this.hideLoader()),D(i))),h(()=>{t||(t=!0,this.hideLoader())}))}interceptPromiseAndShowLoading(e){return new Promise((t,i)=>{this.showLoader(),e.then(r=>t(r)).catch(r=>i(r)).finally(()=>this.hideLoader())})}loaderTimeout;updateLoaderStatus(e){this.loaderTimeout&&clearTimeout(this.loaderTimeout),this.$_shouldShowOverlay.next(this.waitCount>0),this.waitCount>0&&(this.loaderTimeout=setTimeout(()=>{this.resetWaitCount(),this.updateLoaderStatus(e)},e))}ngOnDestroy(){this.$_shouldShowOverlay.complete()}static \u0275fac=function(t){return new(t||o)};static \u0275prov=s({token:o,factory:o.\u0275fac,providedIn:"root"})};function we(o,e){o&1&&(b(0,"div",2)(1,"div",3),S(2,"img",4),C()())}function Ie(o,e){if(o&1&&(Z(0),E(1,we,3,0,"div",1),X()),o&2){let t=e.ngIf;W(),F("ngIf",t)}}var I=class o{constructor(e,t){this.loadingService=e;this.router=t}ngOnDestroy(){this.componentSubscriptions.unsubscribe()}componentSubscriptions=new T;ngOnInit(){this.hearRouterEvents()}hearRouterEvents(){this.componentSubscriptions.add(this.router.events.subscribe(e=>{this.navigationInterceptor(e)}))}navigationInterceptor(e){e instanceof de?this.loadingService.showLoader():e instanceof ce?this.loadingService.hideLoader():e instanceof pe?this.loadingService.hideLoader():e instanceof me&&this.loadingService.hideLoader()}static \u0275fac=function(t){return new(t||o)(O(m),O(c))};static \u0275cmp=v({type:o,selectors:[["app-loading"]],decls:2,vars:3,consts:[[4,"ngIf"],["class","loading-container",4,"ngIf"],[1,"loading-container"],[1,"loading-container__wrapper"],["src","Eclipse-1s-200px.gif"]],template:function(t,i){t&1&&(E(0,Ie,2,1,"ng-container",0),J(1,"async")),t&2&&F("ngIf",K(1,1,i.loadingService.$shouldShowOverlay))},dependencies:[ee,te],styles:[".loading-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%;width:100%;min-width:100vw;min-height:100vh;position:fixed;top:0;left:0;background-color:#00000080;z-index:9999}"]})};var A=class o{title="CRMCaroni";static \u0275fac=function(t){return new(t||o)};static \u0275cmp=v({type:o,selectors:[["app-root"]],decls:3,vars:0,consts:[[1,"w-full","h-auto","min-h-full","bg-slate-200"]],template:function(t,i){t&1&&(b(0,"div",0),S(1,"app-loading")(2,"router-outlet"),C())},dependencies:[ue,I]})};var Re="@",Le=(()=>{class o{constructor(t,i,r,n,l){this.doc=t,this.delegate=i,this.zone=r,this.animationType=n,this.moduleImpl=l,this._rendererFactoryPromise=null,this.scheduler=a(V,{optional:!0}),this.loadingSchedulerFn=a(_e,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){let t=()=>this.moduleImpl??import("./chunk-H52XYTYA.js").then(r=>r),i;return this.loadingSchedulerFn?i=this.loadingSchedulerFn(t):i=t(),i.catch(r=>{throw new k(5300,!1)}).then(({\u0275createEngine:r,\u0275AnimationRendererFactory:n})=>{this._engine=r(this.animationType,this.doc);let l=new n(this.delegate,this._engine,this.zone);return this.delegate=l,l})}createRenderer(t,i){let r=this.delegate.createRenderer(t,i);if(r.\u0275type===0)return r;typeof r.throwOnSyntheticProps=="boolean"&&(r.throwOnSyntheticProps=!1);let n=new M(r);return i?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(l=>{let ye=l.createRenderer(t,i);n.use(ye),this.scheduler?.notify(10)}).catch(l=>{n.use(r)}),n}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}static{this.\u0275fac=function(i){U()}}static{this.\u0275prov=s({token:o,factory:o.\u0275fac})}}return o})(),M=class{constructor(e){this.delegate=e,this.replay=[],this.\u0275type=1}use(e){if(this.delegate=e,this.replay!==null){for(let t of this.replay)t(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,t){this.delegate.appendChild(e,t)}insertBefore(e,t,i,r){this.delegate.insertBefore(e,t,i,r)}removeChild(e,t,i){this.delegate.removeChild(e,t,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){this.shouldReplay(t)&&this.replay.push(r=>r.setProperty(e,t,i)),this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.shouldReplay(t)&&this.replay.push(r=>r.listen(e,t,i)),this.delegate.listen(e,t,i)}shouldReplay(e){return this.replay!==null&&e.startsWith(Re)}},_e=new B("");function ve(o="animations"){return Y("NgAsyncAnimations"),G([{provide:q,useFactory:(e,t,i)=>new Le(e,t,i,o),deps:[Q,ae,$]},{provide:z,useValue:o==="noop"?"NoopAnimations":"BrowserAnimations"}])}var R=class o{constructor(e){this.loadingService=e}intercept(e,t){this.loadingService.showLoader();let i=t.handle(e),r=!1;return i.pipe(x(n=>{n instanceof oe&&(r||(this.loadingService.hideLoader(),r=!0))},n=>{n instanceof ie&&(r||(this.loadingService.hideLoader(),r=!0))},()=>{r||(this.loadingService.hideLoader(),r=!0)}),h(()=>{r||(this.loadingService.hideLoader(),r=!0)}))}static \u0275fac=function(t){return new(t||o)(g(m))};static \u0275prov=s({token:o,factory:o.\u0275fac,providedIn:"root"})};var L=class o{constructor(e){this.authservice=e}intercept(e,t){if(!this.authservice.isLoggedIn())return t.handle(e);let i=this.authservice.token,r={};return r.Authorization=`Bearer ${i}`,e=e.clone({setHeaders:r}),t.handle(e)}static \u0275fac=function(t){return new(t||o)(g(p))};static \u0275prov=s({token:o,factory:o.\u0275fac,providedIn:"root"})};var _=class o{static \u0275fac=function(t){return new(t||o)};static \u0275mod=y({type:o,bootstrap:[A]});static \u0275inj=f({providers:[ve(),re(ne()),{provide:N,multi:!0,useClass:R},{provide:N,useClass:L,multi:!0}],imports:[le,w,u]})};se().bootstrapModule(_,{ngZoneEventCoalescing:!0}).catch(o=>console.error(o));
