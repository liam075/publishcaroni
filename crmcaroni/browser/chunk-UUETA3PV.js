import{Aa as K,Ca as Q,Da as U,Ha as W,Ia as X,Ka as Y,La as Z,Ma as $,Oa as tt,Qa as et,Ra as v,b as B,d as h,g as O,h as T,k as P,n as q,o as G,q as V,s as k,t as nt,ta as z,va as H,za as J}from"./chunk-EH5BZRC5.js";import{q as j,r as E,t as F,u as R,x as _}from"./chunk-HSXEZTYZ.js";import"./chunk-CARY4E7O.js";import{Hb as o,Ib as i,Jb as a,Qb as x,Tb as D,Ub as I,ac as l,bc as A,cb as m,cc as L,cd as p,db as d,e as rt,ea as c,g as S,hc as N,na as s,oa as f,yb as g}from"./chunk-ZAYNBMRB.js";var C=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=s({type:e,selectors:[["app-auth-layout"]],decls:2,vars:0,consts:[[1,"w-full","h-full","flex","items-center","justify-center"]],template:function(t,n){t&1&&(o(0,"div",0),a(1,"router-outlet"),i())},dependencies:[j]})};var b=rt(nt());var at=[[["","form-content",""]]],lt=["[form-content]"],u=class e{constructor(){}version=R.version;title="Auth";static \u0275fac=function(t){return new(t||e)};static \u0275cmp=s({type:e,selectors:[["app-auth-form"]],inputs:{title:"title"},standalone:!0,features:[N],ngContentSelectors:lt,decls:12,vars:2,consts:[[1,"bg-white","w-[90vw]","md:w-[40rem]","md:h-auto","flex"],[1,"h-full","w-full","rounded-md","p-4"],[1,"w-full","flex","justify-center","items-center"],["src","Logo_optica_Caroni_Original.png",1,"w-[70%]","md:w-[45%]"],[1,"w-full","flex"],[1,"text-lg","text-slate-800","font-black"],[1,"flex","w-full","justify-end"],[1,"text-slate-500","opacity-70","text-sm"]],template:function(t,n){t&1&&(D(at),o(0,"div",0)(1,"mat-card",1)(2,"div",2),a(3,"img",3),i(),o(4,"mat-card-content")(5,"div",4)(6,"h6",5),l(7),i()(),I(8),i(),o(9,"mat-card-footer",6)(10,"span",7),l(11),i()()()()),t&2&&(m(7),A(n.title),m(4),L(" ",n.version," "))},dependencies:[K,z,H,J,p]})};var M=class e{constructor(r,t,n){this.formBuilder=r;this.authService=t;this.router=n;this.loginForm=this.formBuilder.group({email:["",{validators:[h.required,h.email]}],password:["",{validators:[h.required]}]}),this.passwordControl=this.loginForm.get("password")}componentSubscriptions=new S;loginForm;passwordControl;ngOnDestroy(){this.componentSubscriptions.unsubscribe()}login(){if(!this.loginForm.invalid){var r={email:this.loginForm.value.email||"",password:this.loginForm.value.password||""};console.log(" Datos ",r),this.componentSubscriptions.add(this.authService.login(r).subscribe({next:()=>{this.router.navigate(["/campaings/home"])},error:t=>{console.log(" Error ",t.status),t.status==0?(console.log(" LLegue aqui "),b.default.fire("Error en el Servidor","","error")):b.default.fire("Credenciales invalidas",t.error,"error")}}))}}static \u0275fac=function(t){return new(t||e)(d(V),d(_),d(E))};static \u0275cmp=s({type:e,selectors:[["app-login"]],decls:16,vars:3,consts:[[1,"w-full","min-w-[100vw]","h-screen","flex","justify-center","items-center"],[3,"title"],["form-content","",1,"w-full"],[1,"w-full",3,"ngSubmit","formGroup"],["appearance","outline",1,"w-full"],["matInput","","formControlName","email"],[1,"w-full"],["label","Contrase\xF1a",3,"customControl"],[1,"w-full","flex","justify-center","mt-2"],["mat-flat-button","","color","primary"]],template:function(t,n){t&1&&(o(0,"div",0)(1,"app-auth-form",1)(2,"div",2)(3,"form",3),x("ngSubmit",function(){return n.login()}),o(4,"div")(5,"mat-form-field",4)(6,"mat-label"),l(7," Email "),i(),a(8,"input",5),o(9,"mat-error"),l(10," El email es requerido "),i()()(),o(11,"div",6),a(12,"app-password-input",7),i(),o(13,"div",8)(14,"button",9),l(15," Iniciar sesi\xF3n "),i()()()()()()),t&2&&(m(),g("title","Login"),m(2),g("formGroup",n.loginForm),m(9),g("customControl",n.passwordControl))},dependencies:[u,Y,W,Q,U,P,B,O,T,q,G,$,v]})};var pt=[{path:"",component:C,children:[{component:M,path:"login"},{path:"**",pathMatch:"full",redirectTo:"login"}]}],y=class e{static \u0275fac=function(t){return new(t||e)};static \u0275mod=f({type:e});static \u0275inj=c({imports:[p,F.forChild(pt),F]})};var it=class e{static \u0275fac=function(t){return new(t||e)};static \u0275mod=f({type:e});static \u0275inj=c({imports:[p,y,u,Z,X,k,tt,et,v]})};export{it as AuthModule};
